/*
  @todo
    remove this section once
    https://github.com/localgovdrupal/localgov_base/pull/516
    is merged
*/
.lgd-page-section {
  --color-page-section-background-color: transparent;
  --color-page-section-text-color: var(--color-black);

  color: var(--color-page-section-text-color);
  background-color: var(--color-page-section-background-color);
}

.lgd-page-section--bg-colour-1 {
  --color-page-section-background-color: var(--color-page-section-background-color-1);
  --color-page-section-text-color: var(--color-page-section-background-color-1-text-color);

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    color: var(--color-white);
    background-color: var(--color-page-section-background-color-1);
  }
}

.lgd-page-section--bg-colour-2 {
  --color-page-section-background-color: var(--color-page-section-background-color-2);
  --color-page-section-text-color: var(--color-page-section-background-color-2-text-color);

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-2);
  }
}

.lgd-page-section--bg-colour-3 {
  --color-page-section-background-color: var(--color-page-section-background-color-3);
  --color-page-section-text-color: var(--color-page-section-background-color-3-text-color);

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-3);
  }
  a {
    color: var(--color-link);
  }
}

/*
    Adding 3 extra colour options here, so they are available if
    other subthemes/sites need them.
  */
.lgd-page-section--bg-colour-4 {
  --color-page-section-background-color: var(--color-page-section-background-color-4);
  --color-page-section-text-color: var(--color-page-section-background-color-4-text-color);
  --color-page-section-background-color-4-text-color: var(--color-black);
  --color-page-section-background-color-5-text-color: var(--color-black);

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-4);
  }

  a {
    color: var(--color-link);
  }
}

.lgd-page-section--bg-colour-5 {
  --color-page-section-background-color: var(--color-page-section-background-color-5);
  --color-page-section-text-color: var(--color-page-section-background-color-5-text-color);

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-3);
  }
  a {
    color: var(--color-link);
  }
}

.lgd-page-section--bg-colour-6 {
  --color-page-section-background-color: var(--color-page-section-background-color-6);
  --color-page-section-text-color: var(--color-page-section-background-color-6-text-color);
}

/* end @todo */

.lgd-page-section {
  /* --arc-height: 120px; */
  --page-section-regions-gap: 0;
  --page-section-margin-after: 0;
  --color-page-section-background-color-4: var(--color-tint-1);
  --color-page-section-background-color-5: var(--color-tint-2);
  --color-page-section-background-color-4-text-color: var(--color-black);
  --color-page-section-background-color-5-text-color: var(--color-black);
  margin-bottom: var(--page-section-margin-after);
}

.lgd-page-section .layout {
  gap: var(--page-section-regions-gap);
}

.lgd-page-section--regions-margin-small .layout {
  --page-section-regions-gap: var(--spacing-small);
}

.lgd-page-section--regions-margin-medium .layout {
  --page-section-regions-gap: var(--spacing);
}

.lgd-page-section--regions-margin-large .layout {
  --page-section-regions-gap: var(--spacing-large);
}

.lgd-page-section--regions-margin-larger .layout {
  --page-section-regions-gap: var(--spacing-larger);
}

.lgd-page-section--regions-margin-largest .layout {
  --page-section-regions-gap: var(--spacing-largest);
}

.lgd-page-section--margin-after-small {
  --page-section-margin-after: var(--spacing-small);
}

.lgd-page-section--margin-after-medium {
  --page-section-margin-after: var(--spacing);
}

.lgd-page-section--margin-after-large {
  --page-section-margin-after: var(--spacing-large);
}

.lgd-page-section--margin-after-larger {
  --page-section-margin-after: var(--spacing-larger);
}

.lgd-page-section--margin-after-largest {
  --page-section-margin-after: var(--spacing-largest);
}

.paragraph--type--page-section .layout.layout--twocol {
  flex-direction: row;
  gap: var(--spacing-large);
  justify-content: space-between;
}

.lgd-page-section.lgd-page-section--arc-top,
.lgd-page-section.lgd-page-section--arc-bottom {
  padding-top: 1em;
  padding-bottom: 1em;
}

.lgd-page-section__arc--top svg,
.lgd-page-section__arc--bottom svg {
  display: block;
  width: 100%;
  height: auto;
}

.lgd-page-section__arc--top {
  margin-bottom: -1px;
}

.lgd-page-section__arc--top.lgd-page-section--bg-colour-1 svg path,
.lgd-page-section__arc--bottom.lgd-page-section--bg-colour-1 svg path {
  fill: var(--color-page-section-background-color-1);
}

.lgd-page-section__arc--top.lgd-page-section--bg-colour-2 svg path,
.lgd-page-section__arc--bottom.lgd-page-section--bg-colour-2 svg path {
  fill: var(--color-page-section-background-color-2);
}

.lgd-page-section__arc--top.lgd-page-section--bg-colour-3 svg path,
.lgd-page-section__arc--bottom.lgd-page-section--bg-colour-3 svg path {
  fill: var(--color-page-section-background-color-3);
}

.lgd-page-section__arc--top.lgd-page-section--bg-colour-4 svg path,
.lgd-page-section__arc--bottom.lgd-page-section--bg-colour-4 svg path {
  --color-page-section-background-color-4: var(--color-tint-1);
  fill: var(--color-page-section-background-color-4);
}

.lgd-page-section__arc--top.lgd-page-section--bg-colour-5 svg path,
.lgd-page-section__arc--bottom.lgd-page-section--bg-colour-5 svg path {
  --color-page-section-background-color-5: var(--color-tint-2);
  fill: var(--color-page-section-background-color-5);
}

.lgd-page-section--arc-bottom {
  margin-top: -1px;
}

.lgd-page-section--arc-bottom {
  margin-bottom: calc(var(--page-section-margin-after) + var(--arc-height));
}


/* Overrides for specific components when placed in page sections */
.lgd-page-section--has-bg-colour {

  .media-with-text,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-white);
  }

  .media-with-text {
    height: 100%;
  }
}

.lgd-page-section--bg-colour-1 {

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-1);
    color: var(--color-white);
  }
}

.lgd-page-section--bg-colour-2 {

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-2);
  }
}

.lgd-page-section--bg-colour-3 {

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-3);
  }
}

.lgd-page-section--bg-colour-4 {

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-4);
  }
}

.lgd-page-section--bg-colour-5 {

  .media-with-text--default,
  .media-with-text--default .media-with-text__body {
    background-color: var(--color-page-section-background-color-3);
  }
}

.field__item:has(.lgd-page-section--full-width),
.field__item:has(.lgd-page-section--full-width-contained-content) {
  margin: 0;
}
